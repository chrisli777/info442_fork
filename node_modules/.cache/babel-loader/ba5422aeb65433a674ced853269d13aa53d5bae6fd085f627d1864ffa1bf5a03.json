{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/Christopher/info442_fork/src/component/ElderCheckInPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { Smile, Meh, Frown, HelpCircle, Mic, Send, Upload, Camera, Type, Sun, Eye, Clock, Pill, MessageCircle } from \"lucide-react\";\nimport Chat from \"./chat\";\nimport supabase from '../supabaseclient';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ElderDashboard() {\n  _s();\n  // State for mood selection\n  const [selectedMood, setSelectedMood] = useState(null);\n  const [showMoodError, setShowMoodError] = useState(false);\n\n  // State for note and photo\n  const [note, setNote] = useState(\"\");\n  const [photoPreview, setPhotoPreview] = useState(null);\n\n  // State for recording\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingText, setRecordingText] = useState(\"(hold to speak)\");\n\n  // State for submission\n  const [isSubmitted, setIsSubmitted] = useState(false);\n\n  // State for accessibility features\n  const [largeText, setLargeText] = useState(false);\n  const [highContrast, setHighContrast] = useState(false);\n  const [screenReaderMode, setScreenReaderMode] = useState(false);\n\n  // State for active tab\n  const [activeTab, setActiveTab] = useState(\"dashboard\");\n\n  // Refs\n  const photoInputRef = useRef(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n\n  // Mock health data\n  const healthData = {\n    bloodPressure: \"120/80\",\n    heartRate: \"72 bpm\",\n    bloodSugar: \"95 mg/dL\",\n    weight: \"165 lbs\",\n    lastUpdated: \"Today, 8:30 AM\"\n  };\n\n  // Mock medication data\n  const medications = [{\n    name: \"Lisinopril\",\n    dosage: \"10mg\",\n    time: \"8:00 AM\",\n    taken: true\n  }, {\n    name: \"Metformin\",\n    dosage: \"500mg\",\n    time: \"1:00 PM\",\n    taken: false,\n    due: true\n  }, {\n    name: \"Simvastatin\",\n    dosage: \"20mg\",\n    time: \"8:00 PM\",\n    taken: false\n  }];\n\n  // Handle mood selection\n  const handleMoodSelect = mood => {\n    setSelectedMood(mood);\n    setShowMoodError(false);\n  };\n\n  // Handle help request\n  const handleHelpRequest = () => {\n    alert(\"Your request for help has been sent to your caregiver.\");\n  };\n\n  // Handle voice recording\n  const startRecording = e => {\n    e.preventDefault();\n    setIsRecording(true);\n    setRecordingText(\"(Recording...)\");\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices.getUserMedia({\n        audio: true\n      }).then(stream => {\n        const mediaRecorder = new MediaRecorder(stream);\n        mediaRecorderRef.current = mediaRecorder;\n        audioChunksRef.current = [];\n        mediaRecorder.addEventListener(\"dataavailable\", event => {\n          audioChunksRef.current.push(event.data);\n        });\n        mediaRecorder.addEventListener(\"stop\", () => {\n          const audioBlob = new Blob(audioChunksRef.current, {\n            type: \"audio/wav\"\n          });\n          // In a real app, you might want to display a playback option\n          // or automatically transcribe the audio\n          setNote(prev => prev + \"[Voice message recorded] \");\n        });\n        mediaRecorder.start();\n      }).catch(error => {\n        console.error(\"Error accessing microphone:\", error);\n        alert(\"Could not access your microphone. Please check permissions.\");\n      });\n    } else {\n      alert(\"Your browser does not support voice recording.\");\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n      setRecordingText(\"(hold to speak)\");\n\n      // Stop all audio tracks\n      if (mediaRecorderRef.current.stream) {\n        mediaRecorderRef.current.stream.getTracks().forEach(track => track.stop());\n      }\n    }\n  };\n\n  // Handle photo upload\n  const handlePhotoUpload = (useCamera = false) => {\n    if (photoInputRef.current) {\n      if (useCamera) {\n        photoInputRef.current.setAttribute(\"capture\", \"environment\");\n      } else {\n        photoInputRef.current.removeAttribute(\"capture\");\n      }\n      photoInputRef.current.click();\n    }\n  };\n  const handlePhotoChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = event => {\n        var _event$target;\n        setPhotoPreview((_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    if (!selectedMood) {\n      setShowMoodError(true);\n      const moodSection = document.querySelector(\".mood-section\");\n      moodSection === null || moodSection === void 0 ? void 0 : moodSection.scrollIntoView({\n        behavior: \"smooth\"\n      });\n      return;\n    }\n    const {\n      data: {\n        user\n      }\n    } = await supabase.auth.getUser();\n    const {\n      error\n    } = await supabase.from(\"check_ins\").insert({\n      elder_id: user.id,\n      mood: selectedMood,\n      note: note || null,\n      photo_url: photoPreview || null\n    });\n    if (error) {\n      alert(\"Failed to submit check-in.\");\n      return;\n    }\n    setIsSubmitted(true);\n  };\n\n  // Reset form\n  const resetForm = () => {\n    setSelectedMood(null);\n    setNote(\"\");\n    setPhotoPreview(null);\n    setIsSubmitted(false);\n    setShowMoodError(false);\n  };\n\n  // Apply accessibility classes based on state\n  const textSizeClass = largeText ? \"text-lg md:text-xl\" : \"\";\n  const containerClass = highContrast ? \"bg-black text-white border-yellow-400\" : \"bg-white text-gray-800 border-gray-200\";\n  const buttonClass = highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"\";\n\n  // Add screen reader announcements\n  useEffect(() => {\n    if (screenReaderMode) {\n      document.querySelectorAll(\"[aria-label]\").forEach(el => {\n        el.setAttribute(\"role\", \"button\");\n      });\n    }\n  }, [screenReaderMode]);\n\n  // Handle medication taken\n  const handleMedicationTaken = index => {\n    // In a real app, you would update this in a database\n    alert(`Marked ${medications[index].name} as taken`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen bg-gray-50 p-4 ${largeText ? \"text-lg\" : \"\"}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 mb-6 justify-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setLargeText(!largeText),\n          className: `flex items-center gap-2 px-3 py-2 rounded-lg ${largeText ? \"bg-sky-600 text-white\" : \"bg-gray-200 text-gray-700\"}`,\n          \"aria-label\": \"Toggle larger text\",\n          children: [/*#__PURE__*/_jsxDEV(Type, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"Larger Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setHighContrast(!highContrast),\n          className: `flex items-center gap-2 px-3 py-2 rounded-lg ${highContrast ? \"bg-yellow-500 text-black\" : \"bg-gray-200 text-gray-700\"}`,\n          \"aria-label\": \"Toggle high contrast\",\n          children: [/*#__PURE__*/_jsxDEV(Sun, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"High Contrast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setScreenReaderMode(!screenReaderMode),\n          className: `flex items-center gap-2 px-3 py-2 rounded-lg ${screenReaderMode ? \"bg-sky-600 text-white\" : \"bg-gray-200 text-gray-700\"}`,\n          \"aria-label\": \"Toggle screen reader mode\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"Screen Reader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl shadow-lg mb-6 p-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `flex-1 py-3 px-4 rounded-lg font-medium ${activeTab === \"dashboard\" ? \"bg-sky-100 text-sky-800\" : \"text-gray-600 hover:bg-gray-100\"}`,\n            onClick: () => setActiveTab(\"dashboard\"),\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `flex-1 py-3 px-4 rounded-lg font-medium ${activeTab === \"chat\" ? \"bg-sky-100 text-sky-800\" : \"text-gray-600 hover:bg-gray-100\"}`,\n            onClick: () => setActiveTab(\"chat\"),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Chat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), activeTab === \"dashboard\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 ${containerClass} border-2`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-xl ${largeText ? \"text-2xl\" : \"\"} font-bold mb-3 ${highContrast ? \"text-yellow-400\" : \"text-sky-800\"}`,\n              children: \"My Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium mb-0.5\",\n                  children: \"Full Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base font-bold\",\n                  children: \"Martha Johnson\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium mb-0.5\",\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base font-bold\",\n                  children: \"78 years\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium mb-0.5\",\n                  children: \"Room Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base font-bold\",\n                  children: \"101\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium mb-0.5\",\n                  children: \"Emergency Contact\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base font-bold\",\n                  children: \"John Johnson (Son)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium mb-0.5\",\n                  children: \"Medical Conditions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: \"Hypertension, Type 2 Diabetes, Mild Arthritis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium mb-0.5\",\n                  children: \"Preferences\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: \"Enjoys reading, classical music, and afternoon walks. Prefers to eat dinner before 6 PM.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xs ${highContrast ? \"text-gray-400\" : \"text-gray-500\"}`,\n              children: [\"Last updated: \", healthData.lastUpdated]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-6 ${containerClass} border-2`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-2xl ${largeText ? \"text-3xl\" : \"\"} font-bold mb-4 ${highContrast ? \"text-yellow-400\" : \"text-sky-800\"}`,\n              children: \"Medication Reminders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: medications.map((med, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg border ${med.due ? highContrast ? \"bg-yellow-500 text-black border-yellow-600\" : \"bg-amber-50 border-amber-200\" : highContrast ? \"bg-gray-800 border-gray-700\" : \"bg-white border-gray-200\"}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(Pill, {\n                        size: 20,\n                        className: med.due ? highContrast ? \"text-black\" : \"text-amber-500\" : \"\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 352,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-bold ${largeText ? \"text-xl\" : \"text-lg\"}`,\n                        children: med.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 29\n                      }, this), med.due && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"flex items-center text-sm font-medium px-2 py-1 rounded-full bg-amber-100 text-amber-800\",\n                        children: [/*#__PURE__*/_jsxDEV(Clock, {\n                          size: 14,\n                          className: \"mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 359,\n                          columnNumber: 33\n                        }, this), \" Due now\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 351,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"ml-7\",\n                      children: [med.dosage, \" - \", med.time]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 25\n                  }, this), !med.taken ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleMedicationTaken(index),\n                    className: `px-3 py-1 rounded-lg ${highContrast ? \"bg-yellow-400 text-black hover:bg-yellow-300\" : \"bg-sky-100 text-sky-800 hover:bg-sky-200\"}`,\n                    \"aria-label\": `Mark ${med.name} as taken`,\n                    children: \"Take now\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `flex items-center px-3 py-1 rounded-lg ${highContrast ? \"bg-gray-700 text-yellow-400\" : \"bg-green-100 text-green-800\"}`,\n                    children: \"\\u2713 Taken\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `rounded-xl shadow-lg p-6 ${containerClass} border-2`,\n          children: !isSubmitted ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mood-section mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-2xl ${largeText ? \"text-3xl\" : \"\"} font-bold mb-6 text-center ${highContrast ? \"text-yellow-400\" : \"text-sky-800\"}`,\n                children: \"How are you feeling today?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `grid grid-cols-3 gap-4 ${showMoodError ? \"border-2 border-red-500 p-4 rounded-xl\" : \"\"}`,\n                children: [/*#__PURE__*/_jsxDEV(MoodOption, {\n                  emoji: /*#__PURE__*/_jsxDEV(Smile, {\n                    size: largeText ? 64 : 48\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 32\n                  }, this),\n                  label: \"Happy\",\n                  isSelected: selectedMood === \"happy\",\n                  onClick: () => handleMoodSelect(\"happy\"),\n                  highContrast: highContrast,\n                  largeText: largeText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MoodOption, {\n                  emoji: /*#__PURE__*/_jsxDEV(Meh, {\n                    size: largeText ? 64 : 48\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 32\n                  }, this),\n                  label: \"Okay\",\n                  isSelected: selectedMood === \"neutral\",\n                  onClick: () => handleMoodSelect(\"neutral\"),\n                  highContrast: highContrast,\n                  largeText: largeText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MoodOption, {\n                  emoji: /*#__PURE__*/_jsxDEV(Frown, {\n                    size: largeText ? 64 : 48\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 32\n                  }, this),\n                  label: \"Sad\",\n                  isSelected: selectedMood === \"sad\",\n                  onClick: () => handleMoodSelect(\"sad\"),\n                  highContrast: highContrast,\n                  largeText: largeText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 21\n              }, this), showMoodError && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-center mt-2\",\n                role: \"alert\",\n                children: \"Please select how you're feeling today\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row gap-4 mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `flex-1 flex items-center justify-center gap-2 p-4 rounded-xl ${highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"bg-sky-100 text-sky-800 hover:bg-sky-200\"} transition-colors ${largeText ? \"text-xl\" : \"\"}`,\n                onClick: handleHelpRequest,\n                \"aria-label\": \"Request help\",\n                children: [/*#__PURE__*/_jsxDEV(HelpCircle, {\n                  size: largeText ? 24 : 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Need something?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `flex-1 flex items-center justify-center gap-2 p-4 rounded-xl ${isRecording ? \"bg-red-500 text-white animate-pulse\" : highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"bg-purple-100 text-purple-800 hover:bg-purple-200\"} transition-colors ${largeText ? \"text-xl\" : \"\"}`,\n                onMouseDown: startRecording,\n                onTouchStart: startRecording,\n                onMouseUp: stopRecording,\n                onTouchEnd: stopRecording,\n                onMouseLeave: stopRecording,\n                \"aria-label\": \"Record voice message\",\n                children: [/*#__PURE__*/_jsxDEV(Mic, {\n                  size: largeText ? 24 : 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Want to talk? \", recordingText]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"noteInput\",\n                  className: `block mb-2 font-medium ${highContrast ? \"text-yellow-400\" : \"text-gray-700\"} ${largeText ? \"text-xl\" : \"\"}`,\n                  children: \"Add a note (optional):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"noteInput\",\n                  className: `w-full p-3 border rounded-lg ${highContrast ? \"bg-gray-800 text-white border-yellow-400\" : \"bg-gray-50 border-gray-300\"} ${largeText ? \"text-xl\" : \"\"}`,\n                  rows: 3,\n                  placeholder: \"Type your message here...\",\n                  value: note,\n                  onChange: e => setNote(e.target.value),\n                  \"aria-label\": \"Optional note\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 font-medium ${highContrast ? \"text-yellow-400\" : \"text-gray-700\"} ${largeText ? \"text-xl\" : \"\"}`,\n                  children: \"Add a photo (optional):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col sm:flex-row gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `flex-1 flex items-center justify-center gap-2 p-3 rounded-lg ${highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"bg-gray-100 text-gray-800 hover:bg-gray-200\"} transition-colors ${largeText ? \"text-xl\" : \"\"}`,\n                    onClick: () => handlePhotoUpload(false),\n                    \"aria-label\": \"Upload photo from device\",\n                    children: [/*#__PURE__*/_jsxDEV(Upload, {\n                      size: largeText ? 24 : 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Upload Photo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 521,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `flex-1 flex items-center justify-center gap-2 p-3 rounded-lg ${highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"bg-gray-100 text-gray-800 hover:bg-gray-200\"} transition-colors ${largeText ? \"text-xl\" : \"\"}`,\n                    onClick: () => handlePhotoUpload(true),\n                    \"aria-label\": \"Take a new photo with camera\",\n                    children: [/*#__PURE__*/_jsxDEV(Camera, {\n                      size: largeText ? 24 : 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Take Photo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  ref: photoInputRef,\n                  className: \"hidden\",\n                  accept: \"image/*\",\n                  onChange: handlePhotoChange,\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 538,\n                  columnNumber: 23\n                }, this), photoPreview && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: photoPreview || \"/placeholder.svg\",\n                    alt: \"Preview of uploaded photo\",\n                    className: \"w-full max-h-48 object-contain rounded-lg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `w-full p-4 rounded-xl ${largeText ? \"text-xl\" : \"\"} font-medium ${highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"bg-green-600 text-white hover:bg-green-700\"} transition-colors`,\n              onClick: handleSubmit,\n              \"aria-label\": \"Submit your check-in\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center justify-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Send, {\n                  size: largeText ? 24 : 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 23\n                }, this), \"Submit Check-in\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) :\n          /*#__PURE__*/\n          /* Success Message */\n          _jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `inline-flex items-center justify-center w-20 h-20 rounded-full mb-6 ${highContrast ? \"bg-yellow-500 text-black\" : \"bg-green-100 text-green-600\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-4xl\",\n                role: \"img\",\n                \"aria-label\": \"Success\",\n                children: \"\\u2713\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-2xl ${largeText ? \"text-3xl\" : \"\"} font-bold mb-4 ${highContrast ? \"text-yellow-400\" : \"text-green-600\"}`,\n              children: \"Thank you for checking in!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `mb-8 ${largeText ? \"text-xl\" : \"\"}`,\n              children: \"Your caregiver and family have been notified.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `px-6 py-3 rounded-lg ${largeText ? \"text-xl\" : \"\"} ${highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"bg-sky-600 text-white hover:bg-sky-700\"} transition-colors`,\n              onClick: resetForm,\n              \"aria-label\": \"Return to check-in form\",\n              children: \"Back to Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      /* Chat Tab */\n      _jsxDEV(\"div\", {\n        className: \"h-[calc(100vh-200px)]\",\n        children: /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n}\n\n// Mood option component\n_s(ElderDashboard, \"VNjlenG44uhO++7cz0K0nLtOQ/o=\");\n_c = ElderDashboard;\nfunction MoodOption({\n  emoji,\n  label,\n  isSelected,\n  onClick,\n  highContrast,\n  largeText\n}) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `flex flex-col items-center justify-center p-4 rounded-xl transition-all ${isSelected ? highContrast ? \"bg-yellow-500 text-black scale-105\" : \"bg-sky-100 border-2 border-sky-500 scale-105\" : highContrast ? \"bg-gray-800 hover:bg-gray-700\" : \"bg-white hover:bg-gray-50 border border-gray-200\"}`,\n    onClick: onClick,\n    \"aria-label\": `Select mood: ${label}`,\n    \"aria-pressed\": isSelected,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\",\n      children: emoji\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 641,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `font-medium ${largeText ? \"text-xl\" : \"\"}`,\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 627,\n    columnNumber: 5\n  }, this);\n}\n_c2 = MoodOption;\nvar _c, _c2;\n$RefreshReg$(_c, \"ElderDashboard\");\n$RefreshReg$(_c2, \"MoodOption\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useEffect","Smile","Meh","Frown","HelpCircle","Mic","Send","Upload","Camera","Type","Sun","Eye","Clock","Pill","MessageCircle","Chat","supabase","jsxDEV","_jsxDEV","Fragment","_Fragment","ElderDashboard","selectedMood","setSelectedMood","showMoodError","setShowMoodError","note","setNote","photoPreview","setPhotoPreview","isRecording","setIsRecording","recordingText","setRecordingText","isSubmitted","setIsSubmitted","largeText","setLargeText","highContrast","setHighContrast","screenReaderMode","setScreenReaderMode","activeTab","setActiveTab","photoInputRef","mediaRecorderRef","audioChunksRef","healthData","bloodPressure","heartRate","bloodSugar","weight","lastUpdated","medications","name","dosage","time","taken","due","handleMoodSelect","mood","handleHelpRequest","alert","startRecording","e","preventDefault","navigator","mediaDevices","getUserMedia","audio","then","stream","mediaRecorder","MediaRecorder","current","addEventListener","event","push","data","audioBlob","Blob","type","prev","start","catch","error","console","stopRecording","state","stop","getTracks","forEach","track","handlePhotoUpload","useCamera","setAttribute","removeAttribute","click","handlePhotoChange","_e$target$files","file","target","files","reader","FileReader","onload","_event$target","result","readAsDataURL","handleSubmit","moodSection","document","querySelector","scrollIntoView","behavior","user","auth","getUser","from","insert","elder_id","id","photo_url","resetForm","textSizeClass","containerClass","buttonClass","querySelectorAll","el","handleMedicationTaken","index","className","children","onClick","size","fileName","lineNumber","columnNumber","map","med","MoodOption","emoji","label","isSelected","role","onMouseDown","onTouchStart","onMouseUp","onTouchEnd","onMouseLeave","htmlFor","rows","placeholder","value","onChange","ref","accept","src","alt","_c","_c2","$RefreshReg$"],"sources":["/Users/Christopher/info442_fork/src/component/ElderCheckInPage.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport {\n  Smile,\n  Meh,\n  Frown,\n  HelpCircle,\n  Mic,\n  Send,\n  Upload,\n  Camera,\n  Type,\n  Sun,\n  Eye,\n  Clock,\n  Pill,\n  MessageCircle,\n} from \"lucide-react\"\nimport Chat from \"./chat\"\nimport supabase from '../supabaseclient'; \n\nexport default function ElderDashboard() {\n  // State for mood selection\n  const [selectedMood, setSelectedMood] = useState(null)\n  const [showMoodError, setShowMoodError] = useState(false)\n\n  // State for note and photo\n  const [note, setNote] = useState(\"\")\n  const [photoPreview, setPhotoPreview] = useState(null)\n\n  // State for recording\n  const [isRecording, setIsRecording] = useState(false)\n  const [recordingText, setRecordingText] = useState(\"(hold to speak)\")\n\n  // State for submission\n  const [isSubmitted, setIsSubmitted] = useState(false)\n\n  // State for accessibility features\n  const [largeText, setLargeText] = useState(false)\n  const [highContrast, setHighContrast] = useState(false)\n  const [screenReaderMode, setScreenReaderMode] = useState(false)\n\n  // State for active tab\n  const [activeTab, setActiveTab] = useState(\"dashboard\")\n\n  // Refs\n  const photoInputRef = useRef(null)\n  const mediaRecorderRef = useRef(null)\n  const audioChunksRef = useRef([])\n\n  // Mock health data\n  const healthData = {\n    bloodPressure: \"120/80\",\n    heartRate: \"72 bpm\",\n    bloodSugar: \"95 mg/dL\",\n    weight: \"165 lbs\",\n    lastUpdated: \"Today, 8:30 AM\",\n  }\n\n  // Mock medication data\n  const medications = [\n    { name: \"Lisinopril\", dosage: \"10mg\", time: \"8:00 AM\", taken: true },\n    { name: \"Metformin\", dosage: \"500mg\", time: \"1:00 PM\", taken: false, due: true },\n    { name: \"Simvastatin\", dosage: \"20mg\", time: \"8:00 PM\", taken: false },\n  ]\n\n  // Handle mood selection\n  const handleMoodSelect = (mood) => {\n    setSelectedMood(mood)\n    setShowMoodError(false)\n  }\n\n  // Handle help request\n  const handleHelpRequest = () => {\n    alert(\"Your request for help has been sent to your caregiver.\")\n  }\n\n  // Handle voice recording\n  const startRecording = (e) => {\n    e.preventDefault()\n\n    setIsRecording(true)\n    setRecordingText(\"(Recording...)\")\n\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices\n        .getUserMedia({ audio: true })\n        .then((stream) => {\n          const mediaRecorder = new MediaRecorder(stream)\n          mediaRecorderRef.current = mediaRecorder\n          audioChunksRef.current = []\n\n          mediaRecorder.addEventListener(\"dataavailable\", (event) => {\n            audioChunksRef.current.push(event.data)\n          })\n\n          mediaRecorder.addEventListener(\"stop\", () => {\n            const audioBlob = new Blob(audioChunksRef.current, { type: \"audio/wav\" })\n            // In a real app, you might want to display a playback option\n            // or automatically transcribe the audio\n            setNote((prev) => prev + \"[Voice message recorded] \")\n          })\n\n          mediaRecorder.start()\n        })\n        .catch((error) => {\n          console.error(\"Error accessing microphone:\", error)\n          alert(\"Could not access your microphone. Please check permissions.\")\n        })\n    } else {\n      alert(\"Your browser does not support voice recording.\")\n    }\n  }\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n      mediaRecorderRef.current.stop()\n      setIsRecording(false)\n      setRecordingText(\"(hold to speak)\")\n\n      // Stop all audio tracks\n      if (mediaRecorderRef.current.stream) {\n        mediaRecorderRef.current.stream.getTracks().forEach((track) => track.stop())\n      }\n    }\n  }\n\n  // Handle photo upload\n  const handlePhotoUpload = (useCamera = false) => {\n    if (photoInputRef.current) {\n      if (useCamera) {\n        photoInputRef.current.setAttribute(\"capture\", \"environment\")\n      } else {\n        photoInputRef.current.removeAttribute(\"capture\")\n      }\n      photoInputRef.current.click()\n    }\n  }\n\n  const handlePhotoChange = (e) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        setPhotoPreview(event.target?.result)\n      }\n      reader.readAsDataURL(file)\n    }\n  }\n\n  // Handle form submission\n  const handleSubmit = async () => {\n    if (!selectedMood) {\n      setShowMoodError(true)\n      const moodSection = document.querySelector(\".mood-section\")\n      moodSection?.scrollIntoView({ behavior: \"smooth\" })\n      return\n    }\n\n  const { data: { user } } = await supabase.auth.getUser()\n\n  const { error } = await supabase.from(\"check_ins\").insert({\n    elder_id: user.id, \n    mood: selectedMood,\n    note: note || null,\n    photo_url: photoPreview || null,\n\n  })\n  \n  if (error) {\n    alert(\"Failed to submit check-in.\")\n    return\n  }\n\n    setIsSubmitted(true)\n  }\n\n  // Reset form\n  const resetForm = () => {\n    setSelectedMood(null)\n    setNote(\"\")\n    setPhotoPreview(null)\n    setIsSubmitted(false)\n    setShowMoodError(false)\n  }\n\n  // Apply accessibility classes based on state\n  const textSizeClass = largeText ? \"text-lg md:text-xl\" : \"\"\n  const containerClass = highContrast\n    ? \"bg-black text-white border-yellow-400\"\n    : \"bg-white text-gray-800 border-gray-200\"\n  const buttonClass = highContrast ? \"bg-yellow-500 text-black hover:bg-yellow-400\" : \"\"\n\n  // Add screen reader announcements\n  useEffect(() => {\n    if (screenReaderMode) {\n      document.querySelectorAll(\"[aria-label]\").forEach((el) => {\n        el.setAttribute(\"role\", \"button\")\n      })\n    }\n  }, [screenReaderMode])\n\n  // Handle medication taken\n  const handleMedicationTaken = (index) => {\n    // In a real app, you would update this in a database\n    alert(`Marked ${medications[index].name} as taken`)\n  }\n\n  return (\n    <div className={`min-h-screen bg-gray-50 p-4 ${largeText ? \"text-lg\" : \"\"}`}>\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Accessibility Controls */}\n        <div className=\"flex flex-wrap gap-2 mb-6 justify-end\">\n          <button\n            onClick={() => setLargeText(!largeText)}\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg ${\n              largeText ? \"bg-sky-600 text-white\" : \"bg-gray-200 text-gray-700\"\n            }`}\n            aria-label=\"Toggle larger text\"\n          >\n            <Type size={18} />\n            <span className=\"hidden sm:inline\">Larger Text</span>\n          </button>\n\n          <button\n            onClick={() => setHighContrast(!highContrast)}\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg ${\n              highContrast ? \"bg-yellow-500 text-black\" : \"bg-gray-200 text-gray-700\"\n            }`}\n            aria-label=\"Toggle high contrast\"\n          >\n            <Sun size={18} />\n            <span className=\"hidden sm:inline\">High Contrast</span>\n          </button>\n\n          <button\n            onClick={() => setScreenReaderMode(!screenReaderMode)}\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg ${\n              screenReaderMode ? \"bg-sky-600 text-white\" : \"bg-gray-200 text-gray-700\"\n            }`}\n            aria-label=\"Toggle screen reader mode\"\n          >\n            <Eye size={18} />\n            <span className=\"hidden sm:inline\">Screen Reader</span>\n          </button>\n        </div>\n\n        {/* Dashboard Tabs */}\n        <div className=\"bg-white rounded-xl shadow-lg mb-6 p-1\">\n          <div className=\"flex\">\n            <button\n              className={`flex-1 py-3 px-4 rounded-lg font-medium ${\n                activeTab === \"dashboard\" ? \"bg-sky-100 text-sky-800\" : \"text-gray-600 hover:bg-gray-100\"\n              }`}\n              onClick={() => setActiveTab(\"dashboard\")}\n            >\n              Dashboard\n            </button>\n            <button\n              className={`flex-1 py-3 px-4 rounded-lg font-medium ${\n                activeTab === \"chat\" ? \"bg-sky-100 text-sky-800\" : \"text-gray-600 hover:bg-gray-100\"\n              }`}\n              onClick={() => setActiveTab(\"chat\")}\n            >\n              <div className=\"flex items-center justify-center gap-2\">\n                <MessageCircle size={18} />\n                <span>Chat</span>\n              </div>\n            </button>\n          </div>\n        </div>\n\n        {activeTab === \"dashboard\" ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Left Column: Health Info and Medication */}\n            <div className=\"space-y-6\">\n              {/* My Profile Section */}\n              <div className={`rounded-xl shadow-lg p-4 ${containerClass} border-2`}>\n                <h2\n                  className={`text-xl ${largeText ? \"text-2xl\" : \"\"} font-bold mb-3 ${highContrast ? \"text-yellow-400\" : \"text-sky-800\"}`}\n                >\n                  My Profile\n                </h2>\n\n                <div className=\"grid grid-cols-2 gap-2 mb-3\">\n                  <div className={`p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`}>\n                    <div className=\"text-sm font-medium mb-0.5\">Full Name</div>\n                    <p className=\"text-base font-bold\">Martha Johnson</p>\n                  </div>\n\n                  <div className={`p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`}>\n                    <div className=\"text-sm font-medium mb-0.5\">Age</div>\n                    <p className=\"text-base font-bold\">78 years</p>\n                  </div>\n\n                  <div className={`p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`}>\n                    <div className=\"text-sm font-medium mb-0.5\">Room Number</div>\n                    <p className=\"text-base font-bold\">101</p>\n                  </div>\n\n                  <div className={`p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`}>\n                    <div className=\"text-sm font-medium mb-0.5\">Emergency Contact</div>\n                    <p className=\"text-base font-bold\">John Johnson (Son)</p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2 mb-2\">\n                  <div className={`p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`}>\n                    <div className=\"text-sm font-medium mb-0.5\">Medical Conditions</div>\n                    <p className=\"text-sm\">Hypertension, Type 2 Diabetes, Mild Arthritis</p>\n                  </div>\n\n                  <div className={`p-2 rounded-lg ${highContrast ? \"bg-gray-800\" : \"bg-sky-50\"}`}>\n                    <div className=\"text-sm font-medium mb-0.5\">Preferences</div>\n                    <p className=\"text-sm\">\n                      Enjoys reading, classical music, and afternoon walks. Prefers to eat dinner before 6 PM.\n                    </p>\n                  </div>\n                </div>\n\n                <p className={`text-xs ${highContrast ? \"text-gray-400\" : \"text-gray-500\"}`}>\n                  Last updated: {healthData.lastUpdated}\n                </p>\n              </div>\n\n              {/* Medication Alerts */}\n              <div className={`rounded-xl shadow-lg p-6 ${containerClass} border-2`}>\n                <h2\n                  className={`text-2xl ${largeText ? \"text-3xl\" : \"\"} font-bold mb-4 ${highContrast ? \"text-yellow-400\" : \"text-sky-800\"}`}\n                >\n                  Medication Reminders\n                </h2>\n\n                <div className=\"space-y-4\">\n                  {medications.map((med, index) => (\n                    <div\n                      key={index}\n                      className={`p-4 rounded-lg border ${\n                        med.due\n                          ? highContrast\n                            ? \"bg-yellow-500 text-black border-yellow-600\"\n                            : \"bg-amber-50 border-amber-200\"\n                          : highContrast\n                            ? \"bg-gray-800 border-gray-700\"\n                            : \"bg-white border-gray-200\"\n                      }`}\n                    >\n                      <div className=\"flex justify-between items-center\">\n                        <div>\n                          <div className=\"flex items-center gap-2\">\n                            <Pill\n                              size={20}\n                              className={med.due ? (highContrast ? \"text-black\" : \"text-amber-500\") : \"\"}\n                            />\n                            <span className={`font-bold ${largeText ? \"text-xl\" : \"text-lg\"}`}>{med.name}</span>\n                            {med.due && (\n                              <span className=\"flex items-center text-sm font-medium px-2 py-1 rounded-full bg-amber-100 text-amber-800\">\n                                <Clock size={14} className=\"mr-1\" /> Due now\n                              </span>\n                            )}\n                          </div>\n                          <p className=\"ml-7\">\n                            {med.dosage} - {med.time}\n                          </p>\n                        </div>\n\n                        {!med.taken ? (\n                          <button\n                            onClick={() => handleMedicationTaken(index)}\n                            className={`px-3 py-1 rounded-lg ${\n                              highContrast\n                                ? \"bg-yellow-400 text-black hover:bg-yellow-300\"\n                                : \"bg-sky-100 text-sky-800 hover:bg-sky-200\"\n                            }`}\n                            aria-label={`Mark ${med.name} as taken`}\n                          >\n                            Take now\n                          </button>\n                        ) : (\n                          <span\n                            className={`flex items-center px-3 py-1 rounded-lg ${\n                              highContrast ? \"bg-gray-700 text-yellow-400\" : \"bg-green-100 text-green-800\"\n                            }`}\n                          >\n                            ✓ Taken\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Right Column: Check-in Section */}\n            <div className={`rounded-xl shadow-lg p-6 ${containerClass} border-2`}>\n              {!isSubmitted ? (\n                <>\n                  {/* Mood Check-in Section */}\n                  <div className=\"mood-section mb-8\">\n                    <h2\n                      className={`text-2xl ${largeText ? \"text-3xl\" : \"\"} font-bold mb-6 text-center ${highContrast ? \"text-yellow-400\" : \"text-sky-800\"}`}\n                    >\n                      How are you feeling today?\n                    </h2>\n\n                    <div\n                      className={`grid grid-cols-3 gap-4 ${showMoodError ? \"border-2 border-red-500 p-4 rounded-xl\" : \"\"}`}\n                    >\n                      <MoodOption\n                        emoji={<Smile size={largeText ? 64 : 48} />}\n                        label=\"Happy\"\n                        isSelected={selectedMood === \"happy\"}\n                        onClick={() => handleMoodSelect(\"happy\")}\n                        highContrast={highContrast}\n                        largeText={largeText}\n                      />\n\n                      <MoodOption\n                        emoji={<Meh size={largeText ? 64 : 48} />}\n                        label=\"Okay\"\n                        isSelected={selectedMood === \"neutral\"}\n                        onClick={() => handleMoodSelect(\"neutral\")}\n                        highContrast={highContrast}\n                        largeText={largeText}\n                      />\n\n                      <MoodOption\n                        emoji={<Frown size={largeText ? 64 : 48} />}\n                        label=\"Sad\"\n                        isSelected={selectedMood === \"sad\"}\n                        onClick={() => handleMoodSelect(\"sad\")}\n                        highContrast={highContrast}\n                        largeText={largeText}\n                      />\n                    </div>\n\n                    {showMoodError && (\n                      <p className=\"text-red-500 text-center mt-2\" role=\"alert\">\n                        Please select how you're feeling today\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Action Buttons */}\n                  <div className=\"flex flex-col sm:flex-row gap-4 mb-8\">\n                    <button\n                      className={`flex-1 flex items-center justify-center gap-2 p-4 rounded-xl ${\n                        highContrast\n                          ? \"bg-yellow-500 text-black hover:bg-yellow-400\"\n                          : \"bg-sky-100 text-sky-800 hover:bg-sky-200\"\n                      } transition-colors ${largeText ? \"text-xl\" : \"\"}`}\n                      onClick={handleHelpRequest}\n                      aria-label=\"Request help\"\n                    >\n                      <HelpCircle size={largeText ? 24 : 20} />\n                      <span>Need something?</span>\n                    </button>\n\n                    <button\n                      className={`flex-1 flex items-center justify-center gap-2 p-4 rounded-xl ${\n                        isRecording\n                          ? \"bg-red-500 text-white animate-pulse\"\n                          : highContrast\n                            ? \"bg-yellow-500 text-black hover:bg-yellow-400\"\n                            : \"bg-purple-100 text-purple-800 hover:bg-purple-200\"\n                      } transition-colors ${largeText ? \"text-xl\" : \"\"}`}\n                      onMouseDown={startRecording}\n                      onTouchStart={startRecording}\n                      onMouseUp={stopRecording}\n                      onTouchEnd={stopRecording}\n                      onMouseLeave={stopRecording}\n                      aria-label=\"Record voice message\"\n                    >\n                      <Mic size={largeText ? 24 : 20} />\n                      <span>Want to talk? {recordingText}</span>\n                    </button>\n                  </div>\n\n                  {/* Additional Inputs */}\n                  <div className=\"mb-8\">\n                    <div className=\"mb-6\">\n                      <label\n                        htmlFor=\"noteInput\"\n                        className={`block mb-2 font-medium ${highContrast ? \"text-yellow-400\" : \"text-gray-700\"} ${largeText ? \"text-xl\" : \"\"}`}\n                      >\n                        Add a note (optional):\n                      </label>\n                      <textarea\n                        id=\"noteInput\"\n                        className={`w-full p-3 border rounded-lg ${\n                          highContrast ? \"bg-gray-800 text-white border-yellow-400\" : \"bg-gray-50 border-gray-300\"\n                        } ${largeText ? \"text-xl\" : \"\"}`}\n                        rows={3}\n                        placeholder=\"Type your message here...\"\n                        value={note}\n                        onChange={(e) => setNote(e.target.value)}\n                        aria-label=\"Optional note\"\n                      />\n                    </div>\n\n                    <div>\n                      <label\n                        className={`block mb-2 font-medium ${highContrast ? \"text-yellow-400\" : \"text-gray-700\"} ${largeText ? \"text-xl\" : \"\"}`}\n                      >\n                        Add a photo (optional):\n                      </label>\n\n                      <div className=\"flex flex-col sm:flex-row gap-3\">\n                        <button\n                          className={`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg ${\n                            highContrast\n                              ? \"bg-yellow-500 text-black hover:bg-yellow-400\"\n                              : \"bg-gray-100 text-gray-800 hover:bg-gray-200\"\n                          } transition-colors ${largeText ? \"text-xl\" : \"\"}`}\n                          onClick={() => handlePhotoUpload(false)}\n                          aria-label=\"Upload photo from device\"\n                        >\n                          <Upload size={largeText ? 24 : 20} />\n                          <span>Upload Photo</span>\n                        </button>\n\n                        <button\n                          className={`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg ${\n                            highContrast\n                              ? \"bg-yellow-500 text-black hover:bg-yellow-400\"\n                              : \"bg-gray-100 text-gray-800 hover:bg-gray-200\"\n                          } transition-colors ${largeText ? \"text-xl\" : \"\"}`}\n                          onClick={() => handlePhotoUpload(true)}\n                          aria-label=\"Take a new photo with camera\"\n                        >\n                          <Camera size={largeText ? 24 : 20} />\n                          <span>Take Photo</span>\n                        </button>\n                      </div>\n\n                      <input\n                        type=\"file\"\n                        ref={photoInputRef}\n                        className=\"hidden\"\n                        accept=\"image/*\"\n                        onChange={handlePhotoChange}\n                        aria-hidden=\"true\"\n                      />\n\n                      {photoPreview && (\n                        <div className=\"mt-4\">\n                          <img\n                            src={photoPreview || \"/placeholder.svg\"}\n                            alt=\"Preview of uploaded photo\"\n                            className=\"w-full max-h-48 object-contain rounded-lg\"\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Submit Button */}\n                  <button\n                    className={`w-full p-4 rounded-xl ${largeText ? \"text-xl\" : \"\"} font-medium ${\n                      highContrast\n                        ? \"bg-yellow-500 text-black hover:bg-yellow-400\"\n                        : \"bg-green-600 text-white hover:bg-green-700\"\n                    } transition-colors`}\n                    onClick={handleSubmit}\n                    aria-label=\"Submit your check-in\"\n                  >\n                    <span className=\"flex items-center justify-center gap-2\">\n                      <Send size={largeText ? 24 : 20} />\n                      Submit Check-in\n                    </span>\n                  </button>\n                </>\n              ) : (\n                /* Success Message */\n                <div className=\"text-center py-8\">\n                  <div\n                    className={`inline-flex items-center justify-center w-20 h-20 rounded-full mb-6 ${\n                      highContrast ? \"bg-yellow-500 text-black\" : \"bg-green-100 text-green-600\"\n                    }`}\n                  >\n                    <span className=\"text-4xl\" role=\"img\" aria-label=\"Success\">\n                      ✓\n                    </span>\n                  </div>\n\n                  <h2\n                    className={`text-2xl ${largeText ? \"text-3xl\" : \"\"} font-bold mb-4 ${\n                      highContrast ? \"text-yellow-400\" : \"text-green-600\"\n                    }`}\n                  >\n                    Thank you for checking in!\n                  </h2>\n\n                  <p className={`mb-8 ${largeText ? \"text-xl\" : \"\"}`}>Your caregiver and family have been notified.</p>\n\n                  <button\n                    className={`px-6 py-3 rounded-lg ${largeText ? \"text-xl\" : \"\"} ${\n                      highContrast\n                        ? \"bg-yellow-500 text-black hover:bg-yellow-400\"\n                        : \"bg-sky-600 text-white hover:bg-sky-700\"\n                    } transition-colors`}\n                    onClick={resetForm}\n                    aria-label=\"Return to check-in form\"\n                  >\n                    Back to Dashboard\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          /* Chat Tab */\n          <div className=\"h-[calc(100vh-200px)]\">\n            <Chat />\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n// Mood option component\nfunction MoodOption({ emoji, label, isSelected, onClick, highContrast, largeText }) {\n  return (\n    <button\n      className={`flex flex-col items-center justify-center p-4 rounded-xl transition-all ${\n        isSelected\n          ? highContrast\n            ? \"bg-yellow-500 text-black scale-105\"\n            : \"bg-sky-100 border-2 border-sky-500 scale-105\"\n          : highContrast\n            ? \"bg-gray-800 hover:bg-gray-700\"\n            : \"bg-white hover:bg-gray-50 border border-gray-200\"\n      }`}\n      onClick={onClick}\n      aria-label={`Select mood: ${label}`}\n      aria-pressed={isSelected}\n    >\n      <div className=\"mb-2\">{emoji}</div>\n      <span className={`font-medium ${largeText ? \"text-xl\" : \"\"}`}>{label}</span>\n    </button>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}